!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react"),require("prop-types"),require("react-transition-group"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","prop-types","react-transition-group","react-dom"],e):e((t=t||self).ReactAlert={},t.React,t.PropTypes,t.ReactTransitionGroup,t.ReactDOM)}(this,function(t,E,e,g,T){"use strict";var j="default"in E?E.default:E;function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P(){return(P=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(r,!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function S(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],0<=e.indexOf(r)||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function C(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var c,u=t[Symbol.iterator]();!(n=(c=u.next()).done)&&(r.push(c.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}e=e&&e.hasOwnProperty("default")?e.default:e;function D(t){var e=t.children,r=t.options,n=r.position,o=r.containerStyle,i=S(t,["children","options"]),c=E.useMemo(function(){return function(t){var e={position:"fixed"};switch(t){case w.TOP_LEFT:return R({top:0,left:0},e);case w.TOP_CENTER:return R({top:0,left:"50%",transform:"translate(-50%, 0%)"},e);case w.TOP_RIGHT:return R({top:0,right:0},e);case w.MIDDLE_LEFT:return R({bottom:"50%",left:0},e);case w.MIDDLE:return R({bottom:"50%",left:"50%",transform:"translate(-50%, 0%)"},e);case w.MIDDLE_RIGHT:return R({bottom:"50%",right:0},e);case w.BOTTOM_LEFT:return R({bottom:0,left:0},e);case w.BOTTOM_CENTER:return R({bottom:0,left:"50%",transform:"translate(-50%, 0%)"},e);case w.BOTTOM_RIGHT:return R({right:0,bottom:0},e)}}(n)},[n]);return 0<e.length&&j.createElement("div",P({style:R({},c,{},o)},i),e)}function _(t){var e=t.children,r=t.type,n=S(t,["children","type"]);return j.createElement(g.Transition,P({},n,{timeout:250}),function(t){return j.createElement("div",{style:R({},s[r],{},l[r][t])},e)})}function r(t){var e=t.children,r=t.offset,c=t.position,u=t.timeout,a=t.type,n=t.transition,o=t.containerStyle,i=t.template,s=t.context,l=S(t,["children","offset","position","timeout","type","transition","containerStyle","template","context"]),f=E.useRef(null),p=E.useRef(null),m=E.useRef([]),d=C(E.useState([]),2),y=d[0],O=d[1];function b(n){O(function(t){var e=t.length,r=t.filter(function(t){return t.id!==n.id});return e>r.length&&n.options.onClose&&n.options.onClose(),r})}function v(t,e){var r=0<arguments.length&&void 0!==t?t:"",n=1<arguments.length&&void 0!==e?e:{},o={id:Math.random().toString(36).substr(2,9),message:r,options:R({position:n.position||c,timeout:u,type:a},n),close:function(){return b(o)}};if(o.options.timeout){var i=setTimeout(function(){b(o),m.current.splice(m.current.indexOf(i),1)},o.options.timeout);m.current.push(i)}return O(function(t){return t.concat(o)}),o.options.onOpen&&o.options.onOpen(),o}E.useEffect(function(){f.current=document.createElement("div"),document.body.appendChild(f.current);var t=m.current;return function(){t.forEach(clearTimeout),f.current&&document.body.removeChild(f.current)}},[]),p.current={alerts:y,show:v,remove:b,removeAll:function(){p.current.alerts.forEach(b)},success:function(t,e){var r=0<arguments.length&&void 0!==t?t:"",n=1<arguments.length&&void 0!==e?e:{};return n.type=x.SUCCESS,v(r,n)},error:function(t,e){var r=0<arguments.length&&void 0!==t?t:"",n=1<arguments.length&&void 0!==e?e:{};return n.type=x.ERROR,v(r,n)},info:function(t,e){var r=0<arguments.length&&void 0!==t?t:"",n=1<arguments.length&&void 0!==e?e:{};return n.type=x.INFO,v(r,n)}};var h=function(t,n){return t.reduce(function(t,e){var r=n(e);return t[r]||(t[r]=[]),t[r].push(e),t},{})}(y,function(t){return t.options.position});return j.createElement(s.Provider,{value:p},e,f.current&&T.createPortal(j.createElement(E.Fragment,null,Object.values(w).map(function(t){return j.createElement(g.TransitionGroup,P({appear:!0,key:t,options:{position:t,containerStyle:o},component:D},l),h[t]?h[t].map(function(t){return j.createElement(_,{type:n,key:t.id},j.createElement(i,P({style:{margin:r}},t)))}):null)})),f.current))}var i,c,u=E.createContext(),w={TOP_LEFT:"top left",TOP_CENTER:"top center",TOP_RIGHT:"top right",MIDDLE_LEFT:"middle left",MIDDLE:"middle",MIDDLE_RIGHT:"middle right",BOTTOM_LEFT:"bottom left",BOTTOM_CENTER:"bottom center",BOTTOM_RIGHT:"bottom right"},x={INFO:"info",SUCCESS:"success",ERROR:"error"},a={FADE:"fade",SCALE:"scale"},s=(n(i={},a.FADE,{transition:"opacity ".concat(250,"ms ease"),opacity:0}),n(i,a.SCALE,{transform:"scale(1)",transition:"all ".concat(250,"ms ease-in-out")}),i),l=(n(c={},a.FADE,{entering:{opacity:0},entered:{opacity:1}}),n(c,a.SCALE,{entering:{transform:"scale(0)"},entered:{transform:"scale(1)"},exiting:{transform:"scale(0)"},exited:{transform:"scale(1)"}}),c);r.propTypes={offset:e.string,position:e.oneOf(Object.keys(w).map(function(t){return w[t]})),timeout:e.number,type:e.oneOf(Object.keys(x).map(function(t){return x[t]})),transition:e.oneOf(Object.keys(a).map(function(t){return a[t]})),containerStyle:e.object,template:e.oneOfType([e.element,e.func]).isRequired,context:e.shape({Provider:e.object,Consumer:e.object})},r.defaultProps={offset:"10px",position:w.TOP_CENTER,timeout:0,type:x.INFO,transition:a.FADE,containerStyle:{zIndex:100},context:u};t.Provider=r,t.positions=w,t.transitions=a,t.types=x,t.useAlert=function(t){return E.useContext(t||u).current},t.withAlert=function(t){var o=0<arguments.length&&void 0!==t?t:u;return function(n){function t(e,r){return j.createElement(o.Consumer,null,function(t){return j.createElement(n,P({ref:r},e,{alert:t.current}))})}return t.displayName="WithAlert(".concat(n.displayName||n.name||"Component",")"),j.forwardRef(t)}},Object.defineProperty(t,"__esModule",{value:!0})});
